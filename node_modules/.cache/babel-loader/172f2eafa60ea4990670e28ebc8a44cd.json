{"ast":null,"code":"import _slicedToArray from\"/Users/konstantinstanmeyer/Development/code/projects/keyboard/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Chart,Line}from'react-chartjs-2';import PrivateProfile from'./PrivateProfile';import{Chart as ChartJS,LineElement,CategoryScale,LinearScale,PointElement}from'chart.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(LineElement,CategoryScale,LinearScale,PointElement);ChartJS.defaults.color=\"#22c55e\";export default function ViewProfile(_ref){var id=_ref.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),highScore=_useState6[0],setHighScore=_useState6[1];var _useState7=useState({labels:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],datasets:[{data:[],backgroundColor:\"transparent\",borderColor:\"#047857\",pointBorderColor:\"transparent\",pointBorderWidth:4,scaleFontColor:\"#047857\"}]}),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var options={plugins:{legend:false},scales:{x:{grid:{display:false}},y:{ticks:{stepSize:20}}}};useEffect(function(){setIsLoading(true);fetch(\"http://localhost:3000/scores/user/\".concat(window.location.href.slice(-2)),{}).then(function(r){return r.json();}).then(function(userData){setUser(userData);var userArray=userData;var userScores=[];userArray.scores.forEach(function(score){userScores.push(score.score);});if(userArray.scores.length>0){setHighScore(Math.max.apply(Math,userScores));}else{setHighScore(0);}data.datasets[0].data=userData.scores.map(function(value){return value.score;}).slice(-10);setIsLoading(false);});},[]);console.log(user);if(!user[\"view_profile?\"])return/*#__PURE__*/_jsx(PrivateProfile,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-2/5 mt-14 z-20 rounded-xl justify-center mx-auto flex flex-col h-fit bg-sky-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center mx-auto relative mt-6 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-4 border-emerald-500\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-32 w-32 object-cover\",src:user.avatar_url?user.avatar_url:\"https://avatars.githubusercontent.com/u/35440139?v=4}\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-fit mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex flex-col h-full w-full\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"pt-3 text-emerald-500\",children:[user.username,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs\",children:[\"Origin: \",user.origin?user.origin:\"N/A\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-emerald-500 mt-2\",children:[\"Highscore: \",highScore?highScore:0,\" WPM\"]})]})})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-lg underline underline-offset-4 italic text-emerald-500\",children:\"previous ten rounds\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:isLoading||data.datasets[0].data.length==0?/*#__PURE__*/_jsx(\"p\",{className:\"pb-5 text-center text-emerald-500 font-bold italic\",children:\"no scores available\"}):/*#__PURE__*/_jsx(Line,{className:\"p-10\",data:data,options:options})})]});}","map":{"version":3,"names":["React","useState","useEffect","Chart","Line","PrivateProfile","ChartJS","LineElement","CategoryScale","LinearScale","PointElement","register","defaults","color","ViewProfile","id","user","setUser","isLoading","setIsLoading","highScore","setHighScore","labels","datasets","data","backgroundColor","borderColor","pointBorderColor","pointBorderWidth","scaleFontColor","setData","options","plugins","legend","scales","x","grid","display","y","ticks","stepSize","fetch","window","location","href","slice","then","r","json","userData","userArray","userScores","scores","forEach","score","push","length","Math","max","map","value","console","log","avatar_url","username","origin"],"sources":["/Users/konstantinstanmeyer/Development/code/projects/keyboard/frontend/src/ViewProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Chart, Line } from 'react-chartjs-2';\nimport PrivateProfile from './PrivateProfile';\nimport {\n    Chart as ChartJS,\n    LineElement,\n    CategoryScale,\n    LinearScale,\n    PointElement\n} from 'chart.js';\n\nChartJS.register(\n    LineElement,\n    CategoryScale,\n    LinearScale,\n    PointElement\n)\n\nChartJS.defaults.color = \"#22c55e\";\n\nexport default function ViewProfile({ id }){\n    const [user, setUser] = useState({})\n    const [isLoading, setIsLoading] = useState(false)\n    const [highScore, setHighScore] = useState(0)\n    const [data, setData] = useState({\n        labels: [\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],\n        datasets: [{\n            data: [],\n            backgroundColor: \"transparent\",\n            borderColor:  \"#047857\",\n            pointBorderColor: \"transparent\",\n            pointBorderWidth: 4,\n            scaleFontColor: \"#047857\",\n        }],\n    })\n\n    const options = {\n        plugins: {\n            legend: false\n        },\n        scales: {\n            x: {\n                grid: {\n                    display: false,\n                }\n            },\n            y: {\n                ticks: {\n                    stepSize: 20,\n                }\n            }\n        }\n    }\n\n    useEffect(() => {\n        setIsLoading(true)\n        fetch(`http://localhost:3000/scores/user/${window.location.href.slice(-2)}`, {\n        })\n        .then(r => r.json())\n        .then(userData => {\n            setUser(userData)\n            let userArray = userData;\n            let userScores = [];\n            userArray.scores.forEach((score) => {\n                userScores.push(score.score);\n            })\n            if (userArray.scores.length > 0){\n                setHighScore(Math.max(...userScores));\n            } else {\n                setHighScore(0)\n            }\n            data.datasets[0].data = userData.scores.map((value) => {\n                return value.score;\n            }).slice(-10)\n            setIsLoading(false)\n        })\n    }, [])\n\n    console.log(user)\n    \n    if (!user[\"view_profile?\"]) return <PrivateProfile />\n\n    return(\n        <div className=\"relative w-2/5 mt-14 z-20 rounded-xl justify-center mx-auto flex flex-col h-fit bg-sky-900\">\n            <div className=\"flex flex-row items-center mx-auto relative mt-6 mb-6\">\n                <div className=\"border-4 border-emerald-500\">\n                <img className={`h-32 w-32 object-cover`} src={user.avatar_url ? user.avatar_url : \"https://avatars.githubusercontent.com/u/35440139?v=4}\"}/>\n                </div>\n                <div className=\"h-fit mx-auto\">\n                    <div className=\"ml-4 flex flex-col h-full w-full\">\n                        <h3 className=\"pt-3 text-emerald-500\">{user.username} <span className=\"text-xs\">Origin: {user.origin ? user.origin : \"N/A\"}</span></h3>\n                        <p className=\"text-emerald-500 mt-2\">Highscore: {highScore ? highScore : 0} WPM</p>\n                    </div>\n                </div>\n            </div>\n            <h2 className=\"text-center text-lg underline underline-offset-4 italic text-emerald-500\">previous ten rounds</h2>\n            <div className=\"\">\n                {isLoading || data.datasets[0].data.length == 0 ? <p className=\"pb-5 text-center text-emerald-500 font-bold italic\">no scores available</p> : <Line className=\"p-10\" data={data} options={options} />}\n\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}