{"ast":null,"code":"import _slicedToArray from\"/Users/konstantinstanmeyer/Development/code/projects/keyboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import ProfileExists from'./ProfileExists';import ProfileGuest from'./ProfileGuest';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Profile(_ref){var current_user=_ref.current_user;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];useEffect(function(){fetch('http://35.247.18.60/users/current',{headers:{Authorization:localStorage.getItem(\"token\")}}).then(function(r){return r.json();}).then(function(r){if(r.hasOwnProperty('email')){setUser(r);setProfile(\"normal\");console.log(r);}else{setProfile(\"guest\");}});},[]);if(profile==\"normal\"){return/*#__PURE__*/_jsx(ProfileExists,{current_user:user,setProfile:setProfile});}else if(profile==\"guest\"){return/*#__PURE__*/_jsx(ProfileGuest,{current_user:user,setProfile:setProfile});}}","map":{"version":3,"names":["React","useEffect","useState","ProfileExists","ProfileGuest","Profile","current_user","profile","setProfile","user","setUser","isLoading","setIsLoading","fetch","headers","Authorization","localStorage","getItem","then","r","json","hasOwnProperty","console","log"],"sources":["/Users/konstantinstanmeyer/Development/code/projects/keyboard/src/Profile.js"],"sourcesContent":["import React,{ useEffect, useState } from 'react';\nimport ProfileExists from './ProfileExists';\nimport ProfileGuest from './ProfileGuest';\n\nexport default function Profile({ current_user }){\n    const [profile, setProfile] = useState(\"\")\n    const [user, setUser] = useState({})\n    const [isLoading, setIsLoading] = useState(false)\n\n    useEffect(() => {\n        fetch('http://35.247.18.60/users/current', {\n        headers: {\n            Authorization: localStorage.getItem(\"token\")\n        }\n        })\n        .then(r => r.json())\n        .then(r => {\n            if (r.hasOwnProperty('email')){\n                setUser(r)\n                setProfile(\"normal\")\n                console.log(r)\n            } else {\n                setProfile(\"guest\")\n            }\n        })\n    }, [])\n\n    if (profile == \"normal\"){\n        return <ProfileExists current_user={user} setProfile={setProfile} />\n    } else if (profile == \"guest\"){\n        return <ProfileGuest current_user={user} setProfile={setProfile} />\n    }\n}"],"mappings":"mJAAA,MAAOA,MAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACjD,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAOC,aAAY,KAAM,gBAAgB,CAAC,2CAE1C,cAAe,SAASC,QAAO,MAAkB,IAAfC,aAAY,MAAZA,YAAY,CAC1C,cAA8BJ,QAAQ,CAAC,EAAE,CAAC,wCAAnCK,OAAO,eAAEC,UAAU,eAC1B,eAAwBN,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAA7BO,IAAI,eAAEC,OAAO,eACpB,eAAkCR,QAAQ,CAAC,KAAK,CAAC,yCAA1CS,SAAS,eAAEC,YAAY,eAE9BX,SAAS,CAAC,UAAM,CACZY,KAAK,CAAC,mCAAmC,CAAE,CAC3CC,OAAO,CAAE,CACLC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAC/C,CACA,CAAC,CAAC,CACDC,IAAI,CAAC,SAAAC,CAAC,QAAIA,EAAC,CAACC,IAAI,EAAE,GAAC,CACnBF,IAAI,CAAC,SAAAC,CAAC,CAAI,CACP,GAAIA,CAAC,CAACE,cAAc,CAAC,OAAO,CAAC,CAAC,CAC1BX,OAAO,CAACS,CAAC,CAAC,CACVX,UAAU,CAAC,QAAQ,CAAC,CACpBc,OAAO,CAACC,GAAG,CAACJ,CAAC,CAAC,CAClB,CAAC,IAAM,CACHX,UAAU,CAAC,OAAO,CAAC,CACvB,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,EAAI,QAAQ,CAAC,CACpB,mBAAO,KAAC,aAAa,EAAC,YAAY,CAAEE,IAAK,CAAC,UAAU,CAAED,UAAW,EAAG,CACxE,CAAC,IAAM,IAAID,OAAO,EAAI,OAAO,CAAC,CAC1B,mBAAO,KAAC,YAAY,EAAC,YAAY,CAAEE,IAAK,CAAC,UAAU,CAAED,UAAW,EAAG,CACvE,CACJ"},"metadata":{},"sourceType":"module"}