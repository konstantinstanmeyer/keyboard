{"ast":null,"code":"import _slicedToArray from\"/Users/konstantinstanmeyer/Development/code/projects/keyboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),closed=_useState6[0],setClosed=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),startedTyping=_useState8[0],setStartedTyping=_useState8[1];var navigate=useNavigate();var emailRegex=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;function handleSubmit(e){e.preventDefault();if(emailRegex.test(email)&&password.length>5){fetch(\"http://35.247.18.60/signup\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:{email:email,password:password}})}).then(function(res){if(res.ok){console.log(res.headers.get(\"Authorization\"));localStorage.setItem(\"token\",res.headers.get(\"Authorization\"));navigate('/signin');return res.json();}else{throw new Error(res);}}).then(function(json){return console.dir(json);}).catch(function(err){return console.error(err);});}else if(password.length>5){alert(\"Password must be at least 6 digits\");}else{alert(\"Please enter a valid email\");}}useEffect(function(){if(startedTyping==false&&email.length>0){setStartedTyping(true);}},[email]);return/*#__PURE__*/_jsx(\"div\",{className:\"h-fit w-1/4 bg-sky-900 mx-auto rounded-md relative mt-14\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-10\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"h-24 w-24 m-auto mb-5\",src:\"https://cdn-icons-png.flaticon.com/512/4116/4116368.png\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-emerald-500 text-center text-xl pb-5 mx-5\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Sign up\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"relative flex flex-col justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-center pb-3\",children:/*#__PURE__*/_jsx(\"input\",{className:\"h-10 w-2/3 border-4 rounded-md border-emerald-500 placeholder-sky-900 bg-emerald-500 text-sky-900 m-auto indent-3 py-5 my-3\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-center\",children:!emailRegex.test(email)&&startedTyping?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm absolute -top-4 text-red-500 p-0 m-0\",children:\"*please enter a valid email*\"}):null}),/*#__PURE__*/_jsx(\"input\",{className:\"h-10 w-2/3 border-4 border-emerald-500 text-sky-900 rounded-md m-auto indent-3 py-5 my-2 placeholder-sky-900 bg-emerald-500\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Password...\",type:closed?\"password\":\"text\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setClosed(!closed);},className:\"h-6 w-6 relative ml-auto -top-11 right-[20%]\",src:closed?\"https://cdn-icons-png.flaticon.com/512/2356/2356734.png\":\"https://cdn-icons-png.flaticon.com/512/709/709612.png\"}),/*#__PURE__*/_jsx(\"button\",{id:\"submit-button\",className:\"rounded-md h-20 w-2/3 bg-emerald-500 m-auto text-2xl text-sky-900\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return navigate('/signin');},className:\"text-center text-emerald-500 mt-1 hover:cursor-pointer italic\",children:\"return to login\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Signup","email","setEmail","password","setPassword","closed","setClosed","startedTyping","setStartedTyping","navigate","emailRegex","handleSubmit","e","preventDefault","test","length","fetch","method","headers","body","JSON","stringify","user","then","res","ok","console","log","get","localStorage","setItem","json","Error","dir","catch","err","error","alert","target","value"],"sources":["/Users/konstantinstanmeyer/Development/code/projects/keyboard/src/Signup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function Signup(){\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [closed, setClosed] = useState(true)\n    const [startedTyping, setStartedTyping] = useState(false)\n    const navigate = useNavigate();\n    const emailRegex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n\n    function handleSubmit(e){\n        e.preventDefault();\n        if(emailRegex.test(email) && password.length > 5){\n            fetch(\"http://35.247.18.60/signup\", {\n            method: \"post\",\n            headers: {\n            \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n            user: {\n                email: email,\n                password: password,\n            },\n            }),\n            })\n            .then((res) => {\n            if (res.ok) {\n                console.log(res.headers.get(\"Authorization\"));\n                localStorage.setItem(\"token\", res.headers.get(\"Authorization\"));\n                navigate('/signin')\n                return res.json();\n            } else {\n                throw new Error(res);\n            }\n            })\n            .then((json) => console.dir(json))\n            .catch((err) => console.error(err))\n        } else if (password.length > 5) {\n            alert(\"Password must be at least 6 digits\")\n        } else {\n            alert(\"Please enter a valid email\")\n        }\n    }\n\n    useEffect(() => {\n        if (startedTyping == false && email.length > 0){\n            setStartedTyping(true);\n        }\n    }, [email])\n\n    return (\n        <div className=\"h-fit w-1/4 bg-sky-900 mx-auto rounded-md relative mt-14\">\n            <div className=\"py-10\">\n                <img className=\"h-24 w-24 m-auto mb-5\" src=\"https://cdn-icons-png.flaticon.com/512/4116/4116368.png\"/>\n                <h5 className=\"text-emerald-500 text-center text-xl pb-5 mx-5\"><strong>Sign up</strong></h5>\n                <form onSubmit={handleSubmit} className=\"relative flex flex-col justify-center\">\n                    <div className=\"relative flex justify-center pb-3\">\n                        <input className=\"h-10 w-2/3 border-4 rounded-md border-emerald-500 placeholder-sky-900 bg-emerald-500 text-sky-900 m-auto indent-3 py-5 my-3\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email...\"/>\n                    </div>\n                    <div className=\"relative flex justify-center\">\n                    {!emailRegex.test(email) && startedTyping ? <p className=\"text-sm absolute -top-4 text-red-500 p-0 m-0\">*please enter a valid email*</p> : null}\n                    </div>\n                    <input className=\"h-10 w-2/3 border-4 border-emerald-500 text-sky-900 rounded-md m-auto indent-3 py-5 my-2 placeholder-sky-900 bg-emerald-500\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password...\" type={closed ? \"password\" : \"text\"}/>\n                    <img onClick={() => setClosed(!closed)} className=\"h-6 w-6 relative ml-auto -top-11 right-[20%]\" src={closed ? \"https://cdn-icons-png.flaticon.com/512/2356/2356734.png\" : \"https://cdn-icons-png.flaticon.com/512/709/709612.png\"}/>\n                    <button id=\"submit-button\" className=\"rounded-md h-20 w-2/3 bg-emerald-500 m-auto text-2xl text-sky-900\">Sign Up</button>\n                </form>\n                <p onClick={() => navigate('/signin')} className=\"text-center text-emerald-500 mt-1 hover:cursor-pointer italic\">return to login</p>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}